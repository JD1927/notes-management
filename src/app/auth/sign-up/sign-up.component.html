<mat-card class="mat-elevation-z3 animated fade-in-down">
  <div *ngIf="isLoading" class="overlay-loader">
    <mat-progress-spinner
      diameter="50"
      color="accent"
      mode="indeterminate">
    </mat-progress-spinner>
  </div>
  <mat-card-header>
    <mat-icon mat-card-avatar>account_circle</mat-icon>
    <mat-card-title>{{ 'auth.sign-up-title' | translate }}</mat-card-title>
  </mat-card-header>
  <hr style="margin-bottom: 20px"/>
  <div *ngIf="hasSignUpError" class="form-error__box">
    <div class="form-error__text">
      {{ 'error.sign-up' | translate }}
    </div>
  </div>
  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <mat-form-field color="accent" class="form-field" appearance="outline">
        <mat-label>{{ 'auth.email' | translate }}</mat-label>

        <input matInput type="email" formControlName="email" autocomplete="false">

        <mat-error *ngIf="form.controls['email'].hasError('required')">
          {{ 'error.required' | translate }}
        </mat-error>
        <mat-error *ngIf="form.controls['email'].hasError('pattern')">
          {{ 'error.email-pattern' | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field color="accent" class="form-field" appearance="outline">
        <mat-label>{{ 'auth.phone' | translate }}</mat-label>

        <input matInput type="string" formControlName="phoneNumber" autocomplete="false">

        <mat-error *ngIf="form.controls['phoneNumber'].hasError('required')">
          {{ 'error.required' | translate }}
        </mat-error>
        <mat-error *ngIf="form.controls['phoneNumber'].hasError('pattern')">
          {{ 'error.phone-pattern' | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field color="accent" class="form-field" appearance="outline">
        <mat-label>{{ 'auth.password' | translate }}</mat-label>

        <input matInput [type]="showPassword ? 'text' : 'password'" formControlName="password" autocomplete="false">

        <button type="button" mat-icon-button matSuffix (click)="showPassword = !showPassword">
          <mat-icon>{{ showPassword ? 'visibility' : 'visibility_off'}}</mat-icon>
        </button>

        <mat-hint>{{ 'auth.password-hint' | translate }}</mat-hint>

        <mat-error *ngIf="form.controls['password'].hasError('required')">
          {{ 'error.required' | translate }}
        </mat-error>
        <mat-error *ngIf="form.controls['password'].hasError('pattern')">
          {{ 'error.password-pattern' | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field color="accent" class="form-field" appearance="outline">
        <mat-label>{{ 'auth.confirm-password' | translate }}</mat-label>

        <input matInput [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirm" autocomplete="false">

        <button type="button" mat-icon-button matSuffix (click)="showConfirmPassword = !showConfirmPassword">
          <mat-icon>{{ showConfirmPassword ? 'visibility' : 'visibility_off'}}</mat-icon>
        </button>

        <mat-error *ngIf="form.controls['confirm'].hasError('required')">
          {{ 'error.required' | translate }}
        </mat-error>
        <mat-error *ngIf="form.controls['confirm'].hasError('pattern')">
          {{ 'error.password-pattern' | translate }}
        </mat-error>
        <mat-error *ngIf="form.controls['confirm'].hasError('hasPasswordMismatch')">
          {{ 'error.password-mismatch' | translate }}
        </mat-error>
      </mat-form-field>

      <div class="form-actions">
        <button type="button" mat-raised-button [routerLink]="['/auth/sign-in']">
          {{ 'general.cancel' | translate }}
        </button>
        <button type="submit"
          [disabled]="!form.valid"
          mat-raised-button
          color="accent">
          {{ 'auth.sign-up-title' | translate }}
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
